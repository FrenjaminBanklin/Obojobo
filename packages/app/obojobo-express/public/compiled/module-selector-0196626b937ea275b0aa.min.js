!(function(e) {
	var t = {}
	function n(r) {
		if (t[r]) return t[r].exports
		var o = (t[r] = { i: r, l: !1, exports: {} })
		return e[r].call(o.exports, o, o.exports, n), (o.l = !0), o.exports
	}
	;(n.m = e),
		(n.c = t),
		(n.d = function(e, t, r) {
			n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r })
		}),
		(n.r = function(e) {
			'undefined' != typeof Symbol &&
				Symbol.toStringTag &&
				Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }),
				Object.defineProperty(e, '__esModule', { value: !0 })
		}),
		(n.t = function(e, t) {
			if ((1 & t && (e = n(e)), 8 & t)) return e
			if (4 & t && 'object' == typeof e && e && e.__esModule) return e
			var r = Object.create(null)
			if (
				(n.r(r),
				Object.defineProperty(r, 'default', { enumerable: !0, value: e }),
				2 & t && 'string' != typeof e)
			)
				for (var o in e)
					n.d(
						r,
						o,
						function(t) {
							return e[t]
						}.bind(null, o)
					)
			return r
		}),
		(n.n = function(e) {
			var t =
				e && e.__esModule
					? function() {
							return e.default
					  }
					: function() {
							return e
					  }
			return n.d(t, 'a', t), t
		}),
		(n.o = function(e, t) {
			return Object.prototype.hasOwnProperty.call(e, t)
		}),
		(n.p = ''),
		n((n.s = 548))
})({
	548: function(e, t, n) {
		e.exports = n(549)
	},
	549: function(e, t, n) {
		'use strict'
		n.r(t)
		n(550)
		!(function() {
			var e = 250,
				t = 250,
				n = 20,
				r = 'You have been logged out. Please refresh the page and try again.',
				o = -1,
				i = { items: void 0, allItems: void 0, last: 0 },
				a = {},
				l = null,
				s = $($('.template.obo-item')[0]),
				c = $('#list-container'),
				d = $('#search'),
				u = null
			function f() {
				if ('pending' !== i.items) {
					var e = $.trim(d.val())
					if (d.attr('data-last-search') !== e) {
						var t = u.replace(' ', '-').toLowerCase()
						$('.' + t)
							.children('ul')
							.empty(),
							(function(e) {
								var t = i.allItems
								if (0 === e.length) return void p()
								var n,
									r,
									o,
									l,
									s = e.toLowerCase().split(' '),
									c = s.length,
									d = t.length
								i.items = []
								for (var u = 0; u < d; u++) {
									;(n = t[u]),
										(l = n.draftId),
										void 0 === a[l] &&
											(a[l] = (
												(void 0 !== n.title ? n.title : 'Untitled') +
												(void 0 !== n.draftId ? ' draftId:' + n.draftId : '')
											).toLowerCase()),
										(r = a[l]),
										(o = 0)
									for (var f = 0; f < c; f++) r.indexOf(s[f]) >= 0 && o++
									o === c && i.items.push(t[u])
								}
								i.last = 0
							})(e),
							y(u),
							$('#list-container').scrollTop(0)
					}
					d.attr('data-last-search', e)
				}
			}
			function p() {
				var e = u.replace(' ', '-').toLowerCase()
				$('.' + e)
					.children('ul')
					.empty(),
					$('#search').val(''),
					(i.items = i.allItems),
					(i.last = 0),
					d.attr('data-last-search', '')
			}
			function m(e) {
				var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
					r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ''
				'progress' === e
					? ($('#section-progress h1').html(l.title),
					  $('.progressbar').progressbar(),
					  m('section-progress'),
					  setTimeout(function() {
							!(function() {
								for (
									var e = [1, 2, 3, 4, 5, 6, 7, 8, 9], t = { tick: 0 }, n = 0, r = h(3, 5);
									n < r;
									n++
								)
									t[e.splice(h(0, e.length), 1)] = !0
								var o = setInterval(function() {
									t.tick++,
										void 0 !== t[t.tick] && $('.progressbar').progressbar('value', 10 * t.tick),
										t.tick >= 10 &&
											(clearInterval(o),
											$('.progress-container').addClass('success'),
											$('.progress-container')
												.find('span')
												.html('Success!'),
											$('.progressbar').progressbar('value', 100),
											setTimeout(function() {
												var e,
													t = (function(e, t) {
														var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
														return {
															'@context': 'http://purl.imsglobal.org/ctx/lti/v1/ContentItem',
															'@graph': [
																{
																	'@type': 'LtiLinkItem',
																	url: t,
																	title: n ? e : e + " (doesn't send scores to gradebook)",
																	placementAdvice: { presentationDocumentTarget: 'window' }
																}
															]
														}
													})(
														l.title,
														((e = l.draftId), window.location.origin + '/view/' + e),
														__isAssignment
													),
													n = $('#submit-form')
												n.find('input[name=content_items]').val(JSON.stringify(t)),
													n.attr('action', __returnUrl),
													n.submit()
											}, 1e3))
								}, 200)
								$(document).on('keyup', function(e) {
									16 === e.keyCode &&
										($('.progress-container')
											.find('span')
											.html('Reticulating splines...'),
										$(document).off('keyup'))
								})
							})()
					  }, 500))
					: 'section-success' === e &&
					  ($('.selected-instance-title').html(window.repreviousResponse.body.name),
					  $('.preview-link').attr('href', '/preview/' + window.__previousResponse.body.loID))
				var o = $('section:not(:hidden)'),
					i = $('#' + e)
				i.removeClass().addClass(r),
					0 === o.length
						? n
							? i.show()
							: i.fadeIn(t)
						: n
						? (o.hide(), i.show())
						: o.fadeOut(t, function() {
								i.fadeIn(t)
						  })
			}
			function v(e) {
				b((u = e)),
					$('#section-select-object')
						.removeClass('community-library-section')
						.removeClass('my-objects-section')
						.removeClass('my-instances-section')
			}
			function h(e, t) {
				return Math.floor(Math.random() * (t - e + 1)) + e
			}
			function g(e, t) {
				var n = s.clone()
				return (
					n.removeClass('template'),
					n.find('.title').html(e.title ? e.title : 'Untitled'),
					n.find('.draft-id').html('id: ' + e.draftId),
					n.find('.preview').attr('href', '/preview/' + e.draftId),
					n.attr('data-lo-id', e.draftId),
					n.find('.button').click(I),
					t.append(n),
					n
				)
			}
			function b(e) {
				w(e)
				c.find('.section').hide(), d.val('')
				var t = '',
					n = '',
					o = ''
				switch (e) {
					default:
					case 'My Modules':
						;(t = 'Personal Library'), (n = '/api/drafts'), (o = 'blue')
						break
					case 'Community Library':
						;(t = 'Community Collection'), (n = '/api/drafts-public'), (o = 'purple')
				}
				var a = e.replace(' ', '-').toLowerCase()
				$('.' + a).addClass(o),
					$('.my-objects')
						.show()
						.addClass('loading'),
					$('#select-section-title').html(t),
					(i.items = 'pending'),
					fetch(n, { credentials: 'same-origin' })
						.then(function(e) {
							return e.json()
						})
						.then(function(t) {
							if ('ok' !== t.status) throw 'Failed loading modules'
							;(i.allItems = i.items = t.value),
								y(e),
								$('.my-objects').removeClass('loading'),
								'' !== d.val() && f()
						})
						.catch(function(e) {
							var t, n, o
							;(n = void 0 !== (t = e) && void 0 !== t.errorID) && 1 === t.errorID
								? ((o = r),
								  m('dead', !0),
								  (m = function() {}),
								  $('#error-window p').html(o),
								  $('#error-window')
										.dialog({ modal: !0, closeOnEscape: !1 })
										.parent()
										.find('.ui-button')
										.hide())
								: n
								? C(t.errorID)
								: C()
						})
			}
			function y(e) {
				var t = e.replace(' ', '-').toLowerCase(),
					r = i.items,
					o = Math.min(Math.min(r.length, n) + i.last, r.length),
					a = $('.' + t),
					l = a.children('ul')
				if (0 === r.length) a.find('.no-items').show()
				else {
					a.find('.no-items').hide()
					for (var s = o, c = i.last; c < s; c++) g(r[c], l)
					i.last = o
				}
				a.show()
			}
			function w(e) {
				var t = $('.' + e.toLowerCase().replace(' ', '-'))
				;(i.items = void 0), (i.last = 0), t.find('ul').empty(), t.find('.no-items').hide()
			}
			function I(e) {
				e.preventDefault()
				var t,
					n = $(this)
						.parent()
						.parent()
						.parent()
				;(t = n.attr('data-lo-id')),
					(l = i.allItems.find(function(e) {
						return e.draftId === t
					})),
					m('progress'),
					$('#instance-name').val(n.find('.title').text()),
					void 0 === n.attr('data-lo-id') || '0' === n.attr('data-lo-id')
						? $('.instance-copy-note').hide()
						: $('.instance-copy-note').show()
			}
			function C(e) {
				m('dead', !0)
				var t = 'Sorry, something went wrong. Please try again.'
				void 0 !== e && (t += ' (' + e + ')'),
					$('#error-window p').html(t),
					$('#error-window').dialog({
						modal: !0,
						close: function() {
							m('section-module-selection')
						}
					})
			}
			!(function() {
				var t = this
				c.find('ul.template').remove(),
					d.keyup(function(t) {
						clearInterval(o),
							27 === t.keyCode
								? (p(), y(u))
								: (o = setInterval(function() {
										clearInterval(o), f()
								  }, e))
					}),
					$('#list-container').scroll(function() {
						var e,
							n = $(t),
							r = n.find('.' + u.replace(' ', '-').toLowerCase()).children('ul')
						r.height() - n.scrollTop() <= n.height() &&
							(e = i).last < e.items.length &&
							0 === r.find('.click-to-expand').length &&
							y(u)
					}),
					$('#refresh').click(function(e) {
						e.preventDefault(), void 0 !== i.items && 'pending' !== i.items && (w(u), b(u))
					}),
					$('#back-button').click(function(e) {
						e.preventDefault(), m('section-module-selection')
					}),
					$('#community-library-button').click(function(e) {
						e.preventDefault(), m('section-select-object', !1, 'purple'), v('Community Library')
					}),
					$('#personal-library-button').click(function(e) {
						e.preventDefault(), m('section-select-object', !1, 'blue'), v('My Modules')
					})
			})(),
				m('section-module-selection')
		})()
	},
	550: function(e, t, n) {}
})
